<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckMenuItem?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="1024.0" xmlns="http://javafx.com/javafx/20.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.glencoesoftware.convert.MainController">
   <top>
       <MenuBar fx:id="menuBar" BorderPane.alignment="CENTER">
           <BorderPane.margin>
               <Insets bottom="10.0" />
           </BorderPane.margin>
           <Menu mnemonicParsing="false" text="File">
               <MenuItem fx:id="menuRun" mnemonicParsing="false" onAction="#runConvert" text="Run Conversions" />
               <Menu fx:id="menuOutputFormat" mnemonicParsing="false" text="Set output format" />
               <CheckMenuItem fx:id="menuOverwrite" mnemonicParsing="false" onAction="#overwriteMenu" text="Overwrite existing files" />
               <CheckMenuItem fx:id="wantLogToFile" mnemonicParsing="false" onAction="#toggleFileLogging" text="Log to file" />
               <MenuItem fx:id="menuChooseDirectory" mnemonicParsing="false" onAction="#chooseOutputDirectory" text="Choose Output Directory" />
               <MenuItem fx:id="menuResetDirectory" mnemonicParsing="false" onAction="#resetOutputDirectory" text="Reset Output Directory" />
               <MenuItem fx:id="menuTempDirectory" mnemonicParsing="false" onAction="#chooseTemporaryDirectory" text="Choose Temporary Directory" />
               <MenuItem mnemonicParsing="false" onAction="#onExit" text="Exit" />
           </Menu>
           <Menu mnemonicParsing="false" text="Edit">
               <MenuItem fx:id="menuAddFiles" mnemonicParsing="false" onAction="#addFiles" text="Add Files" />
               <MenuItem fx:id="menuRemoveFile" mnemonicParsing="false" onAction="#removeFile" text="Remove Selected" />
               <MenuItem fx:id="menuClearFinished" mnemonicParsing="false" onAction="#clearFinished" text="Clear Finished" />
               <MenuItem fx:id="menuClearAll" mnemonicParsing="false" onAction="#clearFiles" text="Clear All" />
               <MenuItem fx:id="menuSavePrefs" mnemonicParsing="false" onAction="#savePrefs" text="Save settings as defaults" />
               <MenuItem fx:id="menuResetPrefs" mnemonicParsing="false" onAction="#resetPrefs" text="Clear saved settings" />
           </Menu>
           <Menu mnemonicParsing="false" text="View">
               <Menu fx:id="menuLogLevel" mnemonicParsing="false" text="Log Level" />
               <MenuItem mnemonicParsing="false" onAction="#displayLog" text="Show Logs" />
           </Menu>
           <Menu mnemonicParsing="false" text="Help">
               <MenuItem mnemonicParsing="false" onAction="#b2rHelp" text="bioformats2raw help" />
               <MenuItem mnemonicParsing="false" onAction="#r2oHelp" text="raw2ometiff help" />
               <MenuItem mnemonicParsing="false" onAction="#displayAbout" text="About" />
           </Menu>
       </MenuBar>
   </top>
   <center>
      <VBox prefHeight="200.0" prefWidth="100.0" BorderPane.alignment="CENTER">
         <children>
            <HBox alignment="CENTER" prefHeight="50.0" spacing="5.0">
               <children>
                   <ImageView fitHeight="150.0" fitWidth="200.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@logo.png" />
                     </image></ImageView>
                  <Region prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS" />
                   <Button fx:id="addJobButton" mnemonicParsing="false" onAction="#addFiles" text="Add job(s)" />
               </children>
               <VBox.margin>
                  <Insets bottom="5.0" left="10.0" right="10.0" top="5.0" />
               </VBox.margin></HBox>
             <StackPane prefHeight="150.0" prefWidth="200.0" VBox.vgrow="ALWAYS">
               <SplitPane dividerPositions="0.7" prefHeight="160.0" prefWidth="200.0" style="-fx-background-color: white; -fx-border-color: grey;">
                 <items>
                     <VBox fx:id="jobsBox" prefHeight="200.0" prefWidth="100.0">
                        <children>
                           <HBox prefHeight="36.0" spacing="5.0">
                              <children>
                                 <Label fx:id="jobsText" text="Jobs">
                                    <font>
                                       <Font name="System Bold" size="20.0" />
                                    </font>
                                 </Label>
                              </children>
                              <padding>
                                 <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                              </padding>
                           </HBox>
                           <HBox alignment="CENTER_RIGHT" prefHeight="36.0" spacing="5.0">
                              <children>
                                 <Button mnemonicParsing="false" onAction="#clearFinished" text="Clear Completed" textAlignment="CENTER" />
                              </children>
                              <VBox.margin>
                                 <Insets />
                              </VBox.margin>
                              <padding>
                                 <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                              </padding>
                           </HBox>
                             <ListView fx:id="jobList" onDragDropped="#handleFileDrop" onDragOver="#handleFileDragOver" onKeyPressed="#listKeyHandler" onMouseClicked="#listClickHandler" style="-fx-selection-bar: #DDDDDD;">
                                 <padding>
                                     <Insets bottom="2.0" left="5.0" right="5.0" top="2.0" />
                                 </padding>
                             </ListView>
                        </children>
                     </VBox>
                     <VBox prefHeight="200.0" prefWidth="100.0">
                         <children>
                             <HBox prefHeight="36.0" spacing="5.0">
                                 <children>
                                     <Label fx:id="tasksText" text="Tasks">
                                         <font>
                                             <Font name="System Bold" size="20.0" />
                                         </font>
                                     </Label>
                                 </children>
                                 <padding>
                                     <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                             </HBox>
                             <HBox alignment="CENTER_RIGHT" minHeight="36.0" prefHeight="36.0" spacing="5.0">
                                 <children>
                                 <ProgressBar progress="0.35" HBox.hgrow="ALWAYS" />
                                 <Label text="00:00:00" HBox.hgrow="NEVER" />
                                 </children>
                                 <VBox.margin>
                                     <Insets />
                                 </VBox.margin>
                                 <padding>
                                     <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                             </HBox>
                           <TableView fx:id="taskList" VBox.vgrow="ALWAYS">
                             <columns>
                               <TableColumn fx:id="taskNameColumn" editable="false" prefWidth="100.0" resizable="false" sortable="false" text="Name" />
                               <TableColumn fx:id="taskStatusColumn" editable="false" prefWidth="125.0" resizable="false" sortable="false" text="Status" />
                                 <TableColumn fx:id="taskActionColumn" editable="false" prefWidth="75.0" resizable="false" sortable="false" text="Actions" />
                             </columns>
                              <columnResizePolicy>
                                 <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                              </columnResizePolicy>
                           </TableView>
                        </children>
                     </VBox>
                 </items>
               </SplitPane>
                 <Label fx:id="fileListHelpText" mouseTransparent="true" pickOnBounds="false" text="Drop files or folders here to add jobs" textFill="#8a8a8a">
                  <font>
                     <Font name="System Bold" size="20.0" />
                  </font></Label>
               <VBox.margin>
                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
               </VBox.margin>
             </StackPane>
         </children>
      </VBox>
   </center>
    <bottom>
        <HBox alignment="CENTER">
            <Label alignment="CENTER_RIGHT" text="Output Folder" textAlignment="RIGHT" textOverrun="LEADING_ELLIPSIS" HBox.hgrow="NEVER">
                <padding>
                    <Insets right="5.0" />
                </padding>
                <HBox.margin>
                    <Insets left="10.0" />
                </HBox.margin>
            </Label>
            <TextField fx:id="outputDirectory" promptText="Choose an output directory" text="&lt;Same as input&gt;" HBox.hgrow="ALWAYS">
                <HBox.margin>
                    <Insets right="5.0" />
                </HBox.margin>
            </TextField>
            <Button fx:id="chooseDirButton" mnemonicParsing="false" onAction="#chooseOutputDirectory" text="Browse" HBox.hgrow="NEVER" />
            <Button fx:id="clearDirButton" graphicTextGap="2.0" mnemonicParsing="false" onAction="#resetOutputDirectory" text="Reset" textAlignment="CENTER" HBox.hgrow="NEVER">
                <HBox.margin>
                    <Insets left="3.0" right="3.0" />
                </HBox.margin>
            </Button>
            <Region HBox.hgrow="ALWAYS">
            <HBox.margin>
               <Insets bottom="5.0" top="5.0" />
            </HBox.margin></Region>
            <Button fx:id="runJobsButton" mnemonicParsing="false" onAction="#runConvert" text="Run conversions" />
         <BorderPane.margin>
            <Insets bottom="10.0" left="10.0" right="10.0" top="5.0" />
         </BorderPane.margin>
        </HBox>
    </bottom>
</BorderPane>
